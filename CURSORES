
CREATE TABLE SIMPLE1 (ID_SIMPLE INTEGER,EDAD INTEGER,NOMBRE VARCHAR2(40));
-- LA LLENAMOS CON INFORMACION

DECLARE
MI_EDAD INTEGER;
BEGIN
MI_EDAD:=26;
FOR i IN 1..20 LOOP 
MI_EDAD:= MI_EDAD+i;
INSERT INTO SIMPLE1 VALUES(i,MI_EDAD,' GABY');
END LOOP;
END;
/
SELECT * FROM SIMPLE1;

--UNICA OCURRENCIA 
SET SERVEROUTPUT ON;
UPDATE SIMPLE1 SET NOMBRE='XXX' WHERE EDAD=27;
DECLARE 
MI_NOMBRE VARCHAR2(40);
BEGIN
SELECT NOMBRE INTO MI_NOMBRE FROM SIMPLE1 WHERE EDAD=27;
DBMS_OUTPUT.PUT_LINE(MI_NOMBRE);
END;
/
SELECT * FROM SIMPLE1;

------------------------------- CURSORES2-----------------------------------

CREATE TABLE PAISES (ID_PAIS VARCHAR2(4),
       NOMBRE VARCHAR2(100),
       HABITANTES INTEGER,
       IDIOMA VARCHAR2(40),
  CONSTRAINT PK_ID_PAIS PRIMARY KEY(ID_PAIS));

INSERT INTO PAISES VALUES('MX','MEXICO',9000000,'ESPAÑOL');
INSERT INTO PAISES VALUES('USA','ESTADOS UNIDOS',12000000,'INGLES');
INSERT INTO PAISES VALUES('JPA','JAPON',8000000,'JAPONES');
INSERT INTO PAISES VALUES('GER','ALEMANIA',14000000,'ALEMAN');
INSERT INTO PAISES VALUES('BRA','BRASIL',23000000,'PORTUGUES');

       SELECT * FROM PAISES;

--CURSORES:SON UNA ESTRUCTURA DE CONTROL-----------------------


DECLARE
  CURSOR CUR_PAISES IS SELECT * FROM PAISES;
TOTAL_HABITANTES INTEGER;
BEGIN
TOTAL_HABITANTES:=0;
   FOR FILA IN CUR_PAISES LOOP
TOTAL_HABITANTES:=TOTAL_HABITANTES+FILA.HABITANTES;
 DBMS_OUTPUT.PUT_LINE('NOMBRE: '||FILA.NOMBRE||' HABITANTES: ' || FILA.HABITANTES);
END LOOP;
 DBMS_OUTPUT.PUT_LINE('HABITANTES DE TODOS LOS PAISES: '||TOTAL_HABITANTES);
END;

--EJERCICIO:-----------------------------------------------------------

CREATE TABLE ESTUDIANTE (ID_ESTUDIANTE INTEGER,
                         ID_PAIS VARCHAR2(4),
                         CARRERA VARCHAR2(30),
                         EDAD INTEGER,
CONSTRAINT PK_ID_ESTUDIANTE PRIMARY KEY(ID_ESTUDIANTE),
CONSTRAINT FK1_ID_PAIS FOREIGN KEY (ID_PAIS) 
REFERENCES PAISES (ID_PAIS)); 

INSERT INTO ESTUDIANTE VALUES(1,'MX','SISTEMAS',26);
INSERT INTO ESTUDIANTE VALUES(2,'MX','FINANZAS',23);
INSERT INTO ESTUDIANTE VALUES(3,'MX','DISEÑO',26);
INSERT INTO ESTUDIANTE VALUES(4,'GER','DERECHO',21);
INSERT INTO ESTUDIANTE VALUES(5,'JPA','ODONTOLOGIA',28);
INSERT INTO ESTUDIANTE VALUES(6,'BRA','ADMINISTRACION',22);
INSERT INTO ESTUDIANTE VALUES(7,'USA','NEGOCIOS',25);

SELECT * FROM ESTUDIANTE;

